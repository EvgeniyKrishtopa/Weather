(this["webpackJsonpweather-app"]=this["webpackJsonpweather-app"]||[]).push([[0],{15:function(e,t,a){},16:function(e,t,a){},17:function(e,t,a){"use strict";a.r(t);var n,r=a(0),c=a.n(r),o=a(7),l=a.n(o),i=a(4),s=a.n(i),u=a(8),m=a(1),p=Object(r.createContext)(),d=a(3),f=a(5),h=(n={},Object(d.a)(n,"GET_USER",(function(e,t){var a=t.payload;return Object(f.a)({},e,{weather:a,loading:!1,clear:!1})})),Object(d.a)(n,"SET_LOADING",(function(e){return Object(f.a)({},e,{loading:!0})})),Object(d.a)(n,"DEFAULT",(function(e){return e})),n),b=function(e,t){return(h[t.type]||h.DEFAULT)(e,t)},w=function(e){var t=e.children,a=Object(r.useReducer)(b,{weather:null,loading:!1}),n=Object(m.a)(a,2),o=n[0],l=n[1],i=function(){var e=Object(u.a)(s.a.mark((function e(t,a){var n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return d(),e.next=3,fetch("http://api.openweathermap.org/data/2.5/weather?q=".concat(t,",").concat(a,"&appid=").concat("4f1400dc97a7e72fa59e6c3a211b7d40"));case 3:return n=e.sent,e.next=6,n.json();case 6:r=e.sent,l({type:"GET_USER",payload:r});case 8:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),d=function(){return l({type:"SET_LOADING"})},f=o.weather,h=o.loading;return c.a.createElement(p.Provider,{value:{getWeather:i,weather:f,loading:h}},t)},E=a(2),O=(a(15),function(){return c.a.createElement("div",{className:"lds-dual-ring"})}),g=function(){var e=Object(r.useContext)(p),t=e.loading,a=e.weather,n=Object(r.useState)(null),o=Object(m.a)(n,2),l=o[0],i=o[1],s="wi-thunderstorm",u="wi-sleet",d="wi-storm-showers",f="wi-snow",h="wi-fog",b="wi-day-sunny",w="wi-day-fog",g=Object(r.useState)(["wi","wi-flip-vertical"]),v=Object(m.a)(g,2),j=v[0],y=v[1];Object(r.useEffect)((function(){a&&localStorage.setItem("weather",JSON.stringify(a))}),[a]),Object(r.useEffect)((function(){var e=JSON.parse(localStorage.getItem("weather"));if(e)switch(e.weather[0].main){case"Thunderstorm":y([].concat(Object(E.a)(j),[s]));break;case"Drizzle":y([].concat(Object(E.a)(j),[u]));break;case"Rain":y([].concat(Object(E.a)(j),[d]));break;case"Snow":y([].concat(Object(E.a)(j),[f]));break;case"Atmosphere":y.apply(void 0,Object(E.a)(j).concat([[h]]));break;case"Clear":y([].concat(Object(E.a)(j),[b]));break;case"Clouds":y([].concat(Object(E.a)(j),[w]))}i(e)}),[a]);var N=JSON.parse(localStorage.getItem("city"));return c.a.createElement("div",{className:"weather-result"},t?c.a.createElement(O,null):c.a.createElement("div",null,l?c.a.createElement("div",null,c.a.createElement("h3",null,"City:\xa0",N),c.a.createElement("p",{className:"tepmeratureAverege"},"Temperature:\xa0",(l.main.temp-273.15).toFixed(2),"\xa0C\xb0"),c.a.createElement("p",{className:"weather-description"},c.a.createElement("i",{className:j.join(" ")}),l.weather[0].main),c.a.createElement("p",{className:"wind"},"Wind speed:\xa0",l.wind.speed,"km/h"),c.a.createElement("p",{className:"wind"},"Humidity:\xa0",l.main.humidity,"%")):null))},v=function(){var e=Object(r.useRef)(),t=Object(r.useContext)(p).getWeather,a=Object(r.useState)(""),n=Object(m.a)(a,2),o=n[0],l=n[1],i=Object(r.useState)(""),s=Object(m.a)(i,2),u=s[0],d=s[1];return c.a.createElement("div",{className:"container"},c.a.createElement("h1",null,"Weather"),c.a.createElement("form",{className:"weather-form",id:"weatherForm",action:"#",onSubmit:function(a){a.preventDefault(),a.target.reset(),o&&u?(t(o,u),localStorage.setItem("city",JSON.stringify(u)),l(""),d(""),e.current.style.opacity="0"):(e.current.style.opacity="1",localStorage.clear())}},c.a.createElement("div",{className:"form-group"},c.a.createElement("label",null,"Country",c.a.createElement("input",{type:"text",className:"form-control",id:"inputCountry",value:o,onChange:function(e){return l(e.target.value)}}))),c.a.createElement("div",{className:"form-group"},c.a.createElement("label",null,"City",c.a.createElement("input",{type:"text",className:"form-control",id:"inputCity",value:u,onChange:function(e){return d(e.target.value)}})),c.a.createElement("p",{className:"hidden",ref:e},"Enter some data please!"),c.a.createElement("button",{type:"submit",className:"btn btn-primary"},"Get Weather"))))};a(16);var j=function(){return c.a.createElement(w,null,c.a.createElement("div",{className:"wrapper"},c.a.createElement(v,null),c.a.createElement(g,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(c.a.createElement(j,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},9:function(e,t,a){e.exports=a(17)}},[[9,1,2]]]);
//# sourceMappingURL=main.66ae8663.chunk.js.map